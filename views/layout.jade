!!!5
html
  head
    title #{title} - Model Marketplace
    link(rel="stylesheet", href="http://yui.yahooapis.com/pure/0.3.0/pure-min.css")
    //link(rel="stylesheet", href="/styles/style.css")
    link(rel="stylesheet", href="/styles/menu.css")
    link(href="/vendor/font-awesome-4.0.1/css/font-awesome.css" rel="stylesheet")
  body
    #layout.pure-g-r 
      #menu.pure-u
        div.pure-menu.pure-menu-open
          a.pure-menu-heading(href='/') Moderu
          ul
            li(class=(selected == "home" ? 'pure-menu-selected' : ''))
              a(href='/') home
            li(class=(selected == "search" ? 'pure-menu-selected' : ''))
              a(href='/search') search
            li(class=(selected == "categories" ? 'pure-menu-selected' : ''))
              a(href='/') categories
            li(class=(selected == "about" ? 'pure-menu-selected' : ''))
              a(href='/about') about
            li(class=(selected == "upload" ? 'pure-menu-selected' : 'menu-item-divided'))
              a(href='/models/new') upload
            
            if (passport.user)
              div.login-container
                img.profile-picture(src='/users/#{passport.user}/image')
                li.user-link
                  a(href="/users/#{passport.user}") #{passport.user}
                li
                  a(href='/logout') logout
            else 
              li(class=(selected == "login" ? 'pure-menu-selected' : ''))
                a(href='/login') sign in
              li(class=(selected == "register" ? 'pure-menu-selected' : ''))
                a(href='/users/register') register

      div.pure-u-1
        .header
          h1 Moderu
          h2 #{selected}
        .content
          block content
        .footer
          p 
            | Made by game devs for game devs.
            | Â© 2013 Project Hydra

mixin model_link(name, description, views, url)
  .div
    a(href='#{url}')
      h4 #{name}
    p 
      | #{description}
    p
      | #{views}
